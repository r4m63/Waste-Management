@startuml
title Activity — Приём от жителей
start
:Экран приветствия/язык/согласие;
:Открыть сессию;
if (Тара?) then (Есть)
  :Взвесить тару;
else (Без тары)
  :tare=0;
endif
:Снять брутто;
if (Стабильный вес?) then (Да)
else (Нет)
  :Повторить измерение; stop
endif
:Выбор фракции;\nРасчёт нетто/тарифа/суммы;
if (Подтверждение?) then (Да)
  :Создать партию;\nПечать чека;
  if (Печать ок?) then (Да)
    :Закрыть сессию; stop
  else (Ошибка)
    :Э-чек/повтор печати;
  endif
else (Отмена/корректировка)
  :Возврат к шагам;
endif
@enduml
