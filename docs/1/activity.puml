@startuml
title Activity — Приём от жителей (UC1 отдельно, UC2 объединён)
skinparam defaultFontName "DejaVu Sans"
start

' UC1
:Открыть лэндинг (карта);
:Загрузить точки/статусы из ИС;
if (Выбранная точка доступна?) then (Да)
  :Житель идёт к точке;
else (Нет/переполнена)
  :Показать альтернативные точки;
  stop
endif

' UC2
:Экран приветствия; выбор языка;
:Ввод номера телефона;\nСоздать сессию в ИС;
if (Сессия создана?) then (Да)
else (Ошибка сети/ИС)
  :Сообщение; повтор/отказ;
  stop
endif

:Выбор тары (XS..XXXL);\nВыдача тары;
if (Тара доступна?) then (Да)
else (Нет)
  :Предложить другой размер;\nили завершить;
  stop
endif

:Выбор фракции;\nЗагрузка отходов;
if (Переполнение приемника?) then (Да)
  :Сообщение; уменьшить объём\nили выбрать другую точку;
  stop
else (Нет)
  :Фиксация приёма;\nЗапрос тарифов в ИС;\nРасчёт суммы/баллов;
endif

:Показ суммы/баллов;
if (Подтверждение?) then (Да)
  :Создать партию/операцию в ИС;\nПечать чека или эл.чек;
  :Закрыть сессию;
  stop
else (Отмена/корректировка)
  :Вернуться к выбору фракции/измерению;
endif
@enduml
