@startuml
title Use Cases — Приём от жителей (Waste Management IS)
left to right direction
skinparam defaultFontName "DejaVu Sans"
skinparam usecase {
  BackgroundColor<<core>> #E3F2FD
  BorderColor #1E88E5
}

actor "Житель" as Resident
actor "Картографический сервис" as MapSvc
actor "ИС (ядро)" as Core
actor "Фискальный принтер/Эквайринг" as Printer

rectangle "Лендинг (Веб)" as Web {
  usecase "UC0 Найти\nточку на карте" as UC0 <<core>>
}

rectangle "POS-терминал (Киоск)" as POS {
  usecase "UC1 Начать\nсессию на киоске" as UC1 <<core>>
  usecase "UC2 Сдача отходов:\nвыбор типа и загрузка" as UC2 <<core>>
  usecase "UC3 Подтверждение,\nчек и завершение" as UC3 <<core>>
}

Resident -- UC0
UC0 .. MapSvc : данные карт/точек
UC0 .. Core : статусы точек

Resident -- UC1
Resident -- UC2
Resident -- UC3

UC1 .. Core : создать сессию, валидация\nналичия тары
UC2 .. Core : тарификация/проверки
UC3 .. Core : создать партию/операцию
UC3 .. Printer : печать/эл.чек

UC1 .> UC2 : <<include>>
UC2 .> UC3 : <<include>>
@enduml
