@startuml
title Activity — Бизнес-процесс: Приём от жителей
skinparam defaultFontName "DejaVu Sans"
start

:Житель на лендинге открывает карту;
:Загрузка точек (адрес, график,\nстатус, заполненность);
if (Выбранная точка ok?) then (Да)
  :Житель идёт к точке;
else (Закрыта/переполнена)
  :Предложить альтернативные точки;
  stop
endif

:Экран приветствия на киоске;\nВыбор языка;
:Ввод номера телефона;\nОткрыть сессию (ИС);
if (Сессия создана?) then (Да)
else (Ошибка сети/ИС)
  :Сообщение и повтор позже;
  stop
endif

:Выбор размера тары (XS..XXXL);\nВыдача тары;
if (Тара доступна?) then (Да)
else (Нет)
  :Предложить другой размер;\nили завершить;
  stop
endif

:Выбор типа/подтипа отходов;
:Загрузка отходов в тару/приемник;
if (Переполнение приемника?) then (Да)
  :Сообщение/остановка;\nпредложить уменьшить объём/другую точку;
  stop
else (Нет)
  :Фиксация приёма;\nРасчёт (тарификация из ИС);
endif

:Показ суммы/баллов;
if (Подтверждение?) then (Да)
  :Создать партию/операцию в ИС;\nПечать чека или эл.чек;
  :Закрыть сессию;
  stop
else (Отмена/корректировка)
  :Вернуться к выбору фракции/загрузке;
endif
@enduml
